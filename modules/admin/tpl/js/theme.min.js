jQuery(function(c){c("#theme,#skin").find("button.showAll").text("Show All").click(function(){var a=c(this),b=c("#skin").find(">.thumbPreview");a.toggleClass("hideAll").hasClass("hideAll")?(a.text("Hide All"),b.children("li").addClass("active").removeClass("highlight").eq(0).addClass("highlight").end().find(">ul.a:not(.selected)").show()):(a.text("Show All"),b.children("li").removeClass("active highlight").find(">ul.a:not(.selected)").hide())}).end().find(">.thumbPreview").removeClass("jx").find("ul.a").hide().before('<ul class="a selected"></ul>').prev("ul.a").each(function(){var a=
c(this);a.delegate("span.thumb","click",function(){c(this).closest(".a").nextAll("a.prevToggle:first").trigger("toggle.tp");return!1}).append(a.next(".a").find(">li.noDirection:first"))}).end().after('<a href="#toggle-tp" class="prevToggle">Show</a>').next("a.prevToggle").bind("toggle.tp",function(){var a=c(this).prev(".a");a.closest(".thumbPreview").children("li").removeClass("highlight").end();a.parent().toggleClass("active").hasClass("active")?a.slideDown(100).closest("li").addClass("highlight"):
a.slideUp(100)}).click(function(){c(this).trigger("toggle.tp");return!1}).end().find("span.thumb").attr("role","radio").click(function(){c(this).next("input:radio").prop("checked",!0).change()}).end().find("> .i > label").attr("title",function(){return c(this).text()}).end().find("input:radio").bind("redraw",function(){var a=c(this),b=a.closest(".a").prev(".a"),e=a.val();e!=b.find(">li:eq(1)").data("value")&&(b.find(">li:not(.noDirection)").remove(),e?(a.closest("li").clone().find("input:radio").remove().end().find("label").wrapInner("<strong>").find(">strong").text(function(){return c(this).attr("title")}).unwrap().end().end().appendTo(b),
b.find(">li.noDirection").hide()):b.children("li.noDirection").show())}).change(function(){var a=c(this);a.trigger("redraw");a.attr("name")!="themeItem"&&c("#theme").trigger("select-theme")}).filter(":checked").change().end().filter('[name="themeItem"]').change(function(){var a=c(this),b,e;if(a=(c("#theme").data("themes")||{})[a.val()]){b=c("#skin").find(".i > input:radio").filter('[value=""]').prop("checked",!0).end();for(var d in a)a.hasOwnProperty(d)&&(e=d=="layout"?d:d+"-skin",a[d]&&b.filter('[name="'+
e+'"][value="'+a[d]+'"]').prop("checked",!0));b.filter(":checked").trigger("redraw")}}).end();c("#theme").bind("select-theme",function(){function a(a){var c="",b;for(b in a)if(a.hasOwnProperty(b)&&(b=="layout"||i.elements[b+"-skin"]))c+=b+"\t"+a[b]+"\n";return c}var b=c(this),e,d,i,f,j={};e=b.data("themes")||{};d=c("#skin").find(".i > input:radio");f=d.filter(':checked[value!=""]').get();i=d.get(0).form;for(var g=0,k=f.length;g<k;g++)d=f[g].name.match(/^layout|(\w+)-skin$/),j[d[1]||d[0]]=f[g].value;
f=a(j);for(var h in e)if(e.hasOwnProperty(h)&&f==a(e[h])){b.find('input:radio[name="themeItem"][value="'+h+'"]').prop("checked",!0).change();return}b.find('input:radio[name="themeItem"][value="user_define"]').prop("checked",!0).change()})});
