<load target="js/signup_form.js" usecdn="true" />

<div cond="$XE_VALIDATOR_MESSAGE" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
	<p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<script type="text/javascript">
	xe.lang.msg_delete_extend_form = '{$lang->msg_delete_extend_form}';
	xe.lang.confirm_delete = '{$lang->confirm_delete}';
	xe.lang.cmd_delete = '{$lang->cmd_delete}';
	xe.lang.cmd_use = '{$lang->use}';
	xe.lang.cmd_edit = '{$lang->cmd_edit}';
	xe.lang.cmd_required = '{$lang->cmd_required}'
	xe.lang.cmd_optional = '{$lang->cmd_optional}'
	xe.lang.msg_null_prohibited_id = '{$lang->msg_null_prohibited_id}';
</script>

<h3 class="h3">{$lang->me2day_basic_config}</h3>

<form class="form" action="./" method="post">
<input type="hidden" name="module" value="member" />
<input type="hidden" name="driver" value="me2day" />
<input type="hidden" name="act" value="procMemberAdminDriverInterface" />
<input type="hidden" name="dact" value="procSaveConfig" />
	<ul>
		<li>
			<p class="q">{$lang->me2day_application_key}</p>
			<p class="a"><input type="text" name="applicationKey" value="{$config->applicationKey}" /></p>
			<p class="desc">{$lang->me2day_about_application_key}<br />{getFullUrl('', 'module', 'member', 'act', 'dispMemberDriverInterface', 'driver', 'me2day', 'dact', 'dispCallback')}</p>
		</li>
	</ul>
	<div class="btnArea">
		<span class="btn"><input type="submit" value="{$lang->cmd_save}" /></span>
	</div>
</form>

<h3 class="h3">{$lang->cmd_manage_form}</h3>

<form class="form" action="./" method="post">
<input type="hidden" name="module" value="member" />
<input type="hidden" name="act" value="procMemberAdminDriverInterface" />
<input type="hidden" name="driver" value="me2day" />
<input type="hidden" name="dact" value="procSaveSignUpForm" />
	<div class="table even">
		<table id="formTable" width="100%" border="1" cellspacing="0" class="sortable">
			<thead>
			<tr>
				<th scope="col">{$lang->target}</th>
				<th scope="col">{$lang->use}</th>
				<th scope="col">{$lang->cmd_required}/{$lang->cmd_optional}</th>
				<th scope="col" class="text">{$lang->description}</th>
				<th scope="col">{$lang->cmd_edit}</th>
			</tr>
			</thead>
			<tbody class="uDrag">
				<tr loop="$config->signUpForm => $item">
					<th scope="row">
						<input type="hidden" name="list_order[]" value="{$item->member_join_form_srl}" />
						<div class="wrap">
							<button type="button" class="dragBtn">Move to</button>
							{$item->title}
						</div>
					</th>
					<td><input type="checkbox" name="is_use_{$item->member_join_form_srl}" value="Y" title="{$lang->use}" checked="checked"|cond="$item->isUse" /></td>
					<td>
						<input type="radio" id="{$item->member_join_form_srl}_re" name="required_{$item->member_join_form_srl}" value="Y" checked="checked"|cond="$item->required" disabled="disabled"|cond="!$item->isUse"> <label for="{$item->member_join_form_srl}_re">{$lang->cmd_required}</label>
						<input type="radio" id="{$item->member_join_form_srl}_op" name="required_{$item->member_join_form_srl}" value="N" checked="checked"|cond="!$item->required" disabled="disabled"|cond="!$item->isUse"> <label for="{$item->member_join_form_srl}_op">{$lang->cmd_optional}</label>
					</td>
					<td class="text">{$item->description}</td>
					<td id="{$item->member_join_form_srl}">
						<a href="#userDefine" class="modalAnchor _extendFormEdit">{$lang->cmd_edit}</a> | <a href="#" class="_extendFormDelete">{$lang->cmd_delete}</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<p class="btnArea">
		<span class="btn small"><a href="#userDefine" class="modalAnchor _extendFormEdit">{$lang->add_extend_form}...</a></span>
	</p>
	<p class="btnArea">
		<span class="btn"><input type="submit" value="{$lang->cmd_save}" /></span>
	</p>
</form>
<div class="modal" id="userDefine">
	<form action="./" class="fg form" ruleset="insertJoinForm" method="post">
		<input type="hidden" name="module" value="member" />
		<input type="hidden" name="act" value="procMemberAdminInsertJoinForm" />
		<input type="hidden" name="driver" value="me2day" />
		<input type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}" />
		<div id="extendFormInput">
		</div>
	</form>
</div>
