<!--%import("js/importer_admin.js")-->
<!--%import("filter/step1.xml")-->
<!--%import("filter/step12.xml")-->
<!--%import("filter/import_xml.xml")-->

<!-- 설명 -->
<div style="border:1px solid #CCCCCC;margin-bottom:10px;padding:10px;">
    {nl2br($lang->about_importer)}
</div>

<!-- step 1. import하려는 XML파일의 성격 및 대상 모듈을 지정 -->
<div id="step1">
    <form action="./" method="get" onsubmit="return procFilter(this, step1);">

        <div style="font-weight:bold">{$lang->import_step_title[1]}</div>
        <div>{$lang->import_step_desc[1]}</div>

        <table border="1">
        <tr>
            <td>
                <input type="radio" name="source_type" value="module" id="source_type_module" />
                <label for="source_type_module">{$lang->type_module}</label>
            </td>
            <td>{$lang->about_type_module}</td>
        </tr>
        <tr>
            <td>
                <input type="radio" name="source_type" value="member" id="source_type_member" />
                <label for="source_type_member">{$lang->type_member}</label>
            </td>
            <td>{$lang->about_type_member}</td>
        </tr>
        <tr>
            <td>
                <input type="radio" name="source_type" value="syncmember" id="source_type_syncmember" />
                <label for="source_type_syncmember">{$lang->type_syncmember}</label>
            </td>
            <td>{$lang->about_type_syncmember}</td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="submit" value="{$lang->cmd_next}" />
            </td>
        </tr>
        </table>

    </form>
</div>

<!-- step 1-2. 대상이 게시물 정보일 경우 대상 모듈 목록을 선택하도록 함 -->
<div id="step12" style="display:none">
    <form action="./" method="get" onsubmit="return procFilter(this, step12);">
        <div style="font-weight:bold">{$lang->import_step_title[12]}</div>
        <div>{$lang->import_step_desc[12]}</div>
        <div>
            <select name="target_module" id="target_module">
            </select>
        </div>
        <div>
            <input type="submit" value="{$lang->cmd_next}" />
        </div>
    </form>
</div>

<!-- step 1-3. 대상이 게시물 정보일 경우 모듈 선택후 분류가 있으면 분류 선택을 하도록 함 -->
<div id="step13" style="display:none">
    <form action="./" method="get" onsubmit="return doStep13(this)">
        <div style="font-weight:bold">{$lang->import_step_title[13]}</div>
        <div>{$lang->import_step_desc[13]}</div>
        <div>
            <select name="target_category" id="target_category">
                <option value=""></option>
            </select>
        </div>
        <div>
            <input type="submit" value="{$lang->cmd_next}" />
        </div>
    </form>
</div>

<!-- step 2. XML 파일 지정 -->
<div id="step2" style="display:none">
    <form action="./" method="get" >
        <input type="hidden" name="module" value="importer" />
        <input type="hidden" name="act" value="procImporterAdminImport" />
        <input type="hidden" name="module_srl" value="" />
        <input type="hidden" name="category_srl" value="" />
        <div style="font-weight:bold">{$lang->import_step_title[2]}</div>
        <div>{$lang->import_step_desc[2]}</div>
        <div>
            <input type="text" name="xml_file" value="./" />
            <input type="submit" value="{$lang->cmd_next}" />
        </div>
    </form>
</div>

<!-- step 3. 회원 동기화 시작 버튼 -->
<div id="step3" style="display:none">
    <div style="font-weight:bold">{$lang->import_step_title[3]}</div>
    <div>{$lang->import_step_desc[3]}</div>
    <div>
        {$lang->msg_sync_member}
    </div>
    <div>
        <input type="button" value="{$lang->cmd_sync_member}" />
    </div>
</div>

<!-- final step. 진행 완료 또는 실패 메세지 -->
<div id="step_finish" style="display:none">
</div>
