<!--%import("js/editor.js")-->
<!--%import("css/editor.css")-->
<!--%import("./lang")-->

<!-- 에디터 활성화 -->
<script type="text/javascript">
    var editor_path = "{$editor_path}";
    editorInit("{$upload_target_srl}");
</script>

<!-- 자동저장용 폼 -->
<!--@if($enable_autosave)-->
<input type="hidden" name="_saved_doc_title" value="{htmlspecialchars($saved_doc->title)}" />
<input type="hidden" name="_saved_doc_content" value="{htmlspecialchars($saved_doc->content)}" />
<input type="hidden" name="_saved_doc_message" value="{$lang->msg_load_saved_doc}" />
<!--@end-->

<!-- 에디터 -->
<div class="editor_content">
    <div class="editor_area_1">

    <!-- 폰트 종류와 크기 -->
    <div class="editor_fontbox">
        <select onChange="editorChangeFontName(this,'{$upload_target_srl}')" id="editor_font_{$upload_target_srl}">
            <option value="">{$lang->edit->fontname}</option>
            <!--@foreach($lang->edit->fontlist as $key=>$obj)-->
            <option style="font-family:{$obj}" value="{$obj}">{$obj}</option>
            <!--@end-->
        </select>

        <select onChange="editorChangeFontSize(this,'{$upload_target_srl}')" id="editor_fontsize_{$upload_target_srl}">
            <option value="" selected>{$lang->edit->fontsize}</option>
            <option value="1">8pt</option>
            <option value="2">10pt</option>
            <option value="3">12pt</option>
            <option value="4">14pt</option>
            <option value="5">18pt</option>
            <option value="6">24pt</option>
            <option value="7">36pt</option>
        </select>

        <select onChange="editorChangeHeader(this,'{$upload_target_srl}')" id="editor_header_{$upload_target_srl}">
            <option value="">{$lang->edit->header}</option>
            <!--@foreach($lang->edit->header_list as $key=>$obj)-->
            <option value="{$key}">{$obj}</option>
            <!--@end-->
        </select>
    </div>

    <!-- 에디팅 관련 아이콘 -->
    <div class="editor_iconbox">
        <img src="../components/colorpicker_text/icon.gif" title="{$lang->edit->help_fontcolor}" alt="{$lang->edit->help_fontcolor}" class="editor_icon" id="component_{$upload_target_srl}_colorpicker_text" />
        <img src="../components/colorpicker_bg/icon.gif" title="{$lang->edit->help_fontbgcolor}" alt="{$lang->edit->help_fontbgcolor}" class="editor_icon" id="component_{$upload_target_srl}_colorpicker_bg" />
        <img src="./images/bold.gif" title="{$lang->edit->help_bold}" alt="{$lang->edit->help_bold}" class="editor_icon" id="component_{$upload_target_srl}_Bold" />
        <img src="./images/italic.gif" title="{$lang->edit->help_italic}" alt="{$lang->edit->help_italic}" class="editor_icon" id="component_{$upload_target_srl}_Italic" />
        <img src="./images/underline.gif" title="{$lang->edit->help_underline}" alt="{$lang->edit->help_underline}" class="editor_icon" id="component_{$upload_target_srl}_Underline" />
        <img src="./images/strike.gif" title="{$lang->edit->help_strike}" alt="{$lang->edit->help_strike}" class="editor_icon" id="component_{$upload_target_srl}_StrikeThrough" />
        <img src="./images/undo.gif" title="{$lang->edit->help_undo}" alt="{$lang->edit->help_undo}" class="editor_icon" id="component_{$upload_target_srl}_undo" />
        <img src="./images/redo.gif" title="{$lang->edit->help_redo}" alt="{$lang->edit->help_redo}" class="editor_icon" id="component_{$upload_target_srl}_redo" />
    </div>

    <div id="editor_paragraph_{$upload_target_srl}" class="editor_iconbox">
        <img src="./images/align_left.gif" title="{$lang->edit->help_align_left}" alt="{$lang->edit->help_align_left}" id="component_{$upload_target_srl}_justifyleft" />
        <img src="./images/align_center.gif" title="{$lang->edit->help_align_center}" alt="{$lang->edit->help_align_center}" id="component_{$upload_target_srl}_justifycenter" />
        <img src="./images/align_right.gif" title="{$lang->edit->help_align_right}" alt="{$lang->edit->help_align_right}" id="component_{$upload_target_srl}_justifyright" />
        <img src="./images/remove_indent.gif" title="{$lang->edit->help_remove_indent}" alt="{$lang->edit->help_remove_indent}" id="component_{$upload_target_srl}_outdent" />
        <img src="./images/add_indent.gif" title="{$lang->edit->help_add_indent}" alt="{$lang->edit->help_add_indent}" id="component_{$upload_target_srl}_indent" />
        <img src="./images/list_number.gif" title="{$lang->edit->help_list_number}" alt="{$lang->edit->help_list_number}" id="component_{$upload_target_srl}_insertorderedlist" />
        <img src="./images/list_bullet.gif" title="{$lang->edit->help_list_bullet}" alt="{$lang->edit->help_list_bullet}" id="component_{$upload_target_srl}_insertunorderedlist" />
    </div>

    </div>

    <div class="editor_area_2">
        <!-- 컴포넌트 -->
        <div id="editor_component_{$upload_target_srl}" class="editor_iconbox">
            <!--@foreach($component_list as $component_name => $component)-->
                <!--@if(substr($component_name,0,11)!="colorpicker")-->
                    <img src="../components/{$component_name}/icon.gif" alt="{$component->title}" title="{$component->title}" class="editor_icon" id="component_{$upload_target_srl}_{$component_name}" />
                <!--@end-->
            <!--@end-->
        </div>
    </div>

    <div class="editor_area_about_dbl">
        {$lang->about_dblclick_in_editor}
        <div id="for_ie_help_{$upload_target_srl}" style="display:none">{$lang->edit->help_use_paragrapth}</div>
    </div>

    <!-- iframe -->
    <div class="editor_iframe_box"><iframe id="editor_iframe_{$upload_target_srl}" frameBorder="0" style="border:0px;width:99%;height:300px;margin:0px;"></iframe><div class="editor_drag_down_area" id="editor_drag_bar_{$upload_target_srl}"></div></div>
    <div class="editor_autosaved_message" id="editor_autosaved_message">{$lang->msg_auto_saved} &nbsp;</div>
</div>

<!--@if($allow_fileupload)-->
    <!-- 첨부파일 영역 -->
    <!--%import("./js/uploader.js")-->
    <script type="text/javascript">
    editor_upload_init("{$upload_target_srl}");
    </script>

    <div class="editor_uploader_box">

        <input type="hidden" name="upload_target_srl" value="{$upload_target_srl}" />
        <input type="hidden" name="act" value="procFileUploadFile" />

        <!-- 미리보기 -->
        <div class="editor_preview_uploaded" id="preview_uploaded_{$upload_target_srl}"><img src="./images/blank.gif" width="100" height="100"  alt="preview" /></div>

        <!-- 파일 업로드 영역 -->
        <div class="editor_uploader">
            <select id='uploaded_file_list_{$upload_target_srl}' size='9' class="uploaded_file_list" onclick="editor_preview(this, '{$upload_target_srl}')"></select>
        </div>
        <div class="editor_uploader_input_area">
            <input type="button" value="{$lang->edit->upload_file}" class="editor_uploader_input" onclick="editor_remove_file('{$upload_target_srl}');return false;" />
            <input type="button" value="{$lang->edit->delete_selected}" class="editor_uploader_input" onclick="editor_remove_file('{$upload_target_srl}');return false;" />
            <input type="button" value="{$lang->edit->link_file}" class="editor_uploader_input" onclick="editor_insert_file('{$upload_target_srl}');return false;" />
            <input type="file" size="1" name="file" id="file_uploader_{$upload_target_srl}" class="editor_uploader_file_input" onchange="editor_file_upload(this, '{$upload_target_srl}')" value="{$lang->edit->upload}" />
        </div>
    </div>
<!--@end-->
