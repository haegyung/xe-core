<!--%import("js/category.js")-->

<!--@if($colorset == "black")-->
    <!--%import("./css/black.css")-->
<!--@elseif($colorset == "white" || $colorset == "normal")-->
    <!--%import("./css/white.css")-->
<!--@end-->

{@ $_pDepth = 0;}

<div class="widgetContainer">
    <div class="widgetTree">
        <a href="{getSiteUrl($widget_info->domain,'','mid',$widget_info->module_info->mid)}" class="title">{$widget_info->module_info->browser_title}</a> <span>({$widget_info->total_document_count})</span>
        <ul>
    <!--@foreach($widget_info->category_list as $key => $val)-->
        <!--@if($_pDepth > $val->depth)-->
            <!--@for($i=$val->depth; $i<$_pDepth; $i++)-->
            </li>
        </ul>
            <!--@end-->
            {@ $_pDepth = $val->depth}
        <!--@end-->

            <li class="<!--@if($val->last)-->nav_tree_last<!--@end--> <!--@if($val->expand)-->nav_tree_on<!--@else-->nav_tree_off<!--@end-->" id="category_parent_{$val->category_srl}">
                <!--@if($val->child_count)-->
                    <!--@if($val->expand)-->
                        <button type="button" class="category_{$val->category_srl}">+</button>
                    <!--@else-->
                        <button type="button" class="category_{$val->category_srl}">-</button>
                    <!--@end-->
                <!--@end-->
                <a href="{getSiteUrl($widget_info->domain, '','mid',$widget_info->module_info->mid, 'category',$val->category_srl)}" class="nav_tree_label <!--@if($val->selected)-->selected<!--@end-->">{$val->text}</a> 
                <!--@if($val->document_count)--><span>({$val->document_count})</span><!--@end-->

            <!--@if($val->child_count)-->
                {@$_pDepth++}
                <ul>
            <!--@else-->
            </li>
            <!--@end-->
    <!--@end-->
        </ul>
    </div>
</div>
